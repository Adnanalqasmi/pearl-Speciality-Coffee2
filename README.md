<!DOCTYPE html> <html lang="ar" dir="rtl"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="description" content="Pearl Specialty Coffee - قهوة مختصة وحلويات"> <title>Pearl Specialty Coffee</title> <!-- تحميل الستايلات الأساسية أولاً --> <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" as="style"> <link rel="preload" href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" as="style"> <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet"> <!-- تحسين تحميل الخطوط --> <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet"> <style> /* تحسين الأداء باستخدام CSS المضغوط */ :root { --primary-color: #4CAF50; --secondary-color: #2196F3; } * { font-family: 'Tajawal', sans-serif; margin: 0; padding: 0; box-sizing: border-box; } .menu-item { transform: translateZ(0); /* تفعيل تسريع GPU */ transition: transform 0.2s ease; will-change: transform; } .menu-item:hover { transform: scale(1.03); } .logo { width: 80px; height: auto; display: block; } /* تحسين أداء الانيميشن */ .modal { transform: translateZ(0); opacity: 0; visibility: hidden; transition: opacity 0.2s ease, visibility 0.2s ease; } .modal.active { opacity: 1; visibility: visible; } /* تبسيط التنسيقات */ .btn { @apply px-4 py-2 rounded; transition: background-color 0.2s ease; } .btn-primary { @apply bg-green-600 text-white; } .btn-secondary { @apply bg-blue-600 text-white; } </style> </head> <body class="bg-gray-100"> <!-- تحسين هيكل الصفحة --> <header class="bg-gray-800 text-white shadow-sm"> <nav class="container mx-auto p-4"> <div class="flex justify-between items-center"> <div class="flex items-center space-x-4"> <img src="pearl-logo.png" alt="" class="logo" width="80" height="80"> <h1 class="text-2xl font-bold">Pearl Specialty Coffee</h1> </div> <div class="flex space-x-4"> <button type="button" class="btn btn-primary" id="loginBtn">تسجيل الدخول</button> <button type="button" class="btn btn-secondary" id="cartBtn">السلة</button> </div> </div> </nav> </header> <main class="container mx-auto p-4" id="mainContent"> <!-- سيتم تحميل المحتوى ديناميكياً --> </main> <!-- القوالب --> <template id="productTemplate"> <div class="menu-item bg-white rounded-lg shadow-lg p-4"> <img class="w-full h-48 object-cover rounded mb-4 lazy" data-src="" alt=""> <h3 class="text-xl font-bold mb-2"></h3> <p class="text-gray-600 mb-2"></p> <div class="flex justify-between items-center"> <span class="text-lg font-bold price"></span> <button type="button" class="btn btn-primary add-to-cart">إضافة للسلة</button> </div> </div> </template> <!-- تحميل مؤجل للسكربتات --> <script defer src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script> <script> // تحسين الأداء باستخدام كاش للبيانات const cache = new Map(); // State Management const state = { products: null, cart: [], isAdmin: false, editMode: false }; // تحميل البيانات بشكل متقطع async function loadData() { if (cache.has('products')) { return cache.get('products'); } try { const products = { drinks: [ { id: 1, name: 'قهوة أمريكية', price: 15, image: '/api/placeholder/300/200', description: 'قهوة منقوعة طازجة' }, { id: 2, name: 'لاتيه', price: 18, image: '/api/placeholder/300/200', description: 'قهوة مع حليب مبخر' }, { id: 3, name: 'كابتشينو', price: 20, image: '/api/placeholder/300/200', description: 'قهوة مع حليب مبخر ورغوة' } ], desserts: [ { id: 4, name: 'كيك الشوكولاتة', price: 25, image: '/api/placeholder/300/200', description: 'كيك طازج بالشوكولاتة الداكنة' } ] }; cache.set('products', products); state.products = products; return products; } catch (error) { console.error('Error loading data:', error); return null; } } // تحميل متأخر للصور function lazyLoadImages() { const images = document.querySelectorAll('img.lazy'); const imageObserver = new IntersectionObserver((entries, observer) => { entries.forEach(entry => { if (entry.isIntersecting) { const img = entry.target; img.src = img.dataset.src; img.classList.remove('lazy'); observer.unobserve(img); } }); }); images.forEach(img => imageObserver.observe(img)); } // تحسين عرض المنتجات function renderProducts(products) { const mainContent = document.getElementById('mainContent'); const template = document.getElementById('productTemplate'); mainContent.innerHTML = ` <section class="mb-8"> <h2 class="text-2xl font-bold mb-4 text-gray-800">المشروبات</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="drinks-container"></div> </section> <section class="mb-8"> <h2 class="text-2xl font-bold mb-4 text-gray-800">الحلويات</h2> <div class="grid grid-cols-1 md:grid-cols-3 gap-6" id="desserts-container"></div> </section> `; const drinksContainer = document.getElementById('drinks-container'); const dessertsContainer = document.getElementById('desserts-container'); // استخدام DocumentFragment لتحسين الأداء const drinksFragment = document.createDocumentFragment(); const dessertsFragment = document.createDocumentFragment(); products.drinks.forEach(product => { const element = template.content.cloneNode(true); populateTemplate(element, product); drinksFragment.appendChild(element); }); products.desserts.forEach(product => { const element = template.content.cloneNode(true); populateTemplate(element, product); dessertsFragment.appendChild(element); }); drinksContainer.appendChild(drinksFragment); dessertsContainer.appendChild(dessertsFragment); lazyLoadImages(); } // تعبئة قالب المنتج function populateTemplate(element, product) { const img = element.querySelector('img'); const title = element.querySelector('h3'); const description = element.querySelector('p'); const price = element.querySelector('.price'); const addButton = element.querySelector('.add-to-cart'); img.dataset.src = product.image; img.alt = product.name; title.textContent = product.name; description.textContent = product.description; price.textContent = `${product.price} ريال`; addButton.onclick = () => addToCart(product); } // تحسين أداء السلة function addToCart(product) { state.cart.push(product); updateCartUI(); } function updateCartUI() { // تحديث واجهة السلة } // التهيئة async function initialize() { const products = await loadData(); if (products) { renderProducts(products); } // إضافة event listeners document.getElementById('loginBtn').addEventListener('click', () => { // تنفيذ تسجيل الدخول }); document.getElementById('cartBtn').addEventListener('click', () => { // عرض السلة }); } // تأجيل التهيئة حتى اكتمال تحميل الصفحة if (document.readyState === 'loading') { document.addEventListener('DOMContentLoaded', initialize); } else { initialize(); } </script> </body> </html>
